# import AbstractVMFragment from "abstractVmFragment.graphql"
# import ACLXenObjectFragment from "xenObjectFragment.graphql"

fragment TemplateSettingsFragment on GTemplate {
  ...AbstractVMFragment
  installOptions {
    distro
    arch
    release
    installRepository
  }
}

fragment TemplateInfoFragment on GTemplate {
  ...TemplateSettingsFragment
  ...ACLXenObjectFragment
  myActions
  access {
    userId {
      id
      name
      username
    }
    actions
  }

  isOwner
}

query TemplateInfo ($ref: ID!)  {
  template (ref: $ref) {
    ...TemplateInfoFragment
  }
}
subscription TemplateInfoUpdate ($ref: ID!) {
  template(ref: $ref) {
    ...TemplateInfoFragment
  }
}

# import DeletedFragment from "deleted.graphql"
fragment TemplateListFragment on GTemplate {
  ref
  nameLabel
  enabled
  myActions
  access {
    userId {
      id
      name
      username
    }
    actions
  }
  installOptions {
    distro
    arch
    release
    installRepository
  }
  isOwner
}

query TemplateList {
  templates {
    ...TemplateListFragment
  }
}

subscription TemplateListUpdate {
  templates {
    value {
      ...TemplateListFragment
      ...DeletedFragment
    }
    changeType
  }
}
